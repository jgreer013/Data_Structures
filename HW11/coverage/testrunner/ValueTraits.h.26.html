<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Coverage - testrunner</title>
  <link rel="stylesheet" type="text/css" href="bcov.css"/>
</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr><td class="title">Coverage Report</td></tr>
  <tr><td class="ruler"><img src="glass.png" width="3" height="3" alt=""/></td></tr>
  <tr>
    <td width="100%">
      <table cellpadding="1" border="0" width="100%">
        <tr>
          <td class="headerItem" width="20%">Command:</td>
          <td class="headerValue" width="80%" colspan=6>testrunner</td>
        </tr>
        <tr>
          <td class="headerItem" width="20%">Date:</td>
          <td class="headerValue" width="15%">2015-11-12 15:14:24</td>
          <td width="5%"></td>
          <td class="headerItem" width="20%">Instrumented&nbsp;lines:</td>
          <td class="headerValue" width="10%">35</td>
        </tr>
        <tr>
          <td class="headerItem" width="20%">Code&nbsp;covered:</td>
          <td class="coverPerLeftMed" width="15%">34.3%</td>
          <td width="5%"></td>
          <td class="headerItem" width="20%">Executed&nbsp;lines:</td>
          <td class="headerValue" width="10%">12</td>
        </tr>
      </table>
    </td>
  </tr>
  <tr><td class="ruler"><img src="glass.png" width="3" height="3" alt=""/></td></tr>
</table>
<pre class="source">
<span class="lineNum">    1</span>              : &#047;* </span>
<span class="lineNum">    2</span>              : ------------------------------------------------------------------------- </span>
<span class="lineNum">    3</span>              :  CxxTest: A lightweight C++ unit testing library. </span>
<span class="lineNum">    4</span>              :  Copyright (c) 2008 Sandia Corporation. </span>
<span class="lineNum">    5</span>              :  This software is distributed under the LGPL License v3 </span>
<span class="lineNum">    6</span>              :  For more information, see the COPYING file in the top CxxTest directory. </span>
<span class="lineNum">    7</span>              :  Under the terms of Contract DE-AC04-94AL85000 with Sandia Corporation, </span>
<span class="lineNum">    8</span>              :  the U.S. Government retains certain rights in this software. </span>
<span class="lineNum">    9</span>              : ------------------------------------------------------------------------- </span>
<span class="lineNum">   10</span>              : *&#047; </span>
<span class="lineNum">   11</span>              :  </span>
<span class="lineNum">   12</span>              : #ifndef __cxxtest__ValueTraits_h__ </span>
<span class="lineNum">   13</span>              : #define __cxxtest__ValueTraits_h__ </span>
<span class="lineNum">   14</span>              :  </span>
<span class="lineNum">   15</span>              : &#047;&#047; </span>
<span class="lineNum">   16</span>              : &#047;&#047; ValueTraits are used by CxxTest to convert arbitrary </span>
<span class="lineNum">   17</span>              : &#047;&#047; values used in TS_ASSERT_EQUALS() to a string representation. </span>
<span class="lineNum">   18</span>              : &#047;&#047; </span>
<span class="lineNum">   19</span>              : &#047;&#047; This header file contains value traits for builtin integral types. </span>
<span class="lineNum">   20</span>              : &#047;&#047; To declare value traits for new types you should instantiate the class </span>
<span class="lineNum">   21</span>              : &#047;&#047; ValueTraits&lt;YourClass&gt;. </span>
<span class="lineNum">   22</span>              : &#047;&#047; </span>
<span class="lineNum">   23</span>              :  </span>
<span class="lineNum">   24</span>              : #include &lt;cxxtest&#047;Flags.h&gt; </span>
<span class="lineNum">   25</span>              :  </span>
<span class="lineNum">   26</span>              : #ifdef _CXXTEST_OLD_TEMPLATE_SYNTAX </span>
<span class="lineNum">   27</span>              : #   define CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">   28</span>              : #else &#047;&#047; !_CXXTEST_OLD_TEMPLATE_SYNTAX </span>
<span class="lineNum">   29</span>              : #   define CXXTEST_TEMPLATE_INSTANTIATION template&lt;&gt; </span>
<span class="lineNum">   30</span>              : #endif &#047;&#047; _CXXTEST_OLD_TEMPLATE_SYNTAX </span>
<span class="lineNum">   31</span>              :  </span>
<span class="lineNum">   32</span>              : #ifdef _CXXTEST_HAVE_STD </span>
<span class="lineNum">   33</span>              : #include &lt;cmath&gt; </span>
<span class="lineNum">   34</span>              : #else </span>
<span class="lineNum">   35</span>              : #include &lt;math.h&gt; </span>
<span class="lineNum">   36</span>              : #endif </span>
<span class="lineNum">   37</span>              :  </span>
<span class="lineNum">   38</span>              : namespace CxxTest </span>
<span class="lineNum">   39</span>              : { </span>
<span class="lineNum">   40</span>              : &#047;&#047; </span>
<span class="lineNum">   41</span>              : &#047;&#047; This is how we use the value traits </span>
<span class="lineNum">   42</span>              : &#047;&#047; </span>
<span class="lineNum">   43</span>              : #   define TS_AS_STRING(x) CxxTest::traits(x).asString() </span>
<span class="lineNum">   44</span>              :  </span>
<span class="lineNum">   45</span>              : &#047;&#047; </span>
<span class="lineNum">   46</span>              : &#047;&#047; Char representation of a digit </span>
<span class="lineNum">   47</span>              : &#047;&#047; </span>
<span class="lineNum">   48</span>              : char digitToChar(unsigned digit); </span>
<span class="lineNum">   49</span>              :  </span>
<span class="lineNum">   50</span>              : &#047;&#047; </span>
<span class="lineNum">   51</span>              : &#047;&#047; Convert byte value to hex digits </span>
<span class="lineNum">   52</span>              : &#047;&#047; Returns pointer to internal buffer </span>
<span class="lineNum">   53</span>              : &#047;&#047; </span>
<span class="lineNum">   54</span>              : const char *byteToHex(unsigned char byte); </span>
<span class="lineNum">   55</span>              :  </span>
<span class="lineNum">   56</span>              : &#047;&#047; </span>
<span class="lineNum">   57</span>              : &#047;&#047; Convert byte values to string </span>
<span class="lineNum">   58</span>              : &#047;&#047; Returns one past the copied data </span>
<span class="lineNum">   59</span>              : &#047;&#047; </span>
<span class="lineNum">   60</span>              : char *bytesToString(const unsigned char *bytes, unsigned numBytes, unsigned maxBytes, char *s); </span>
<span class="lineNum">   61</span>              :  </span>
<span class="lineNum">   62</span>              : &#047;&#047; </span>
<span class="lineNum">   63</span>              : &#047;&#047; Copy a string. </span>
<span class="lineNum">   64</span>              : &#047;&#047; Returns one past the end of the destination string </span>
<span class="lineNum">   65</span>              : &#047;&#047; Remember -- we can&#039;t use the standard library! </span>
<span class="lineNum">   66</span>              : &#047;&#047; </span>
<span class="lineNum">   67</span>              : char *copyString(char *dst, const char *src); </span>
<span class="lineNum">   68</span>              :  </span>
<span class="lineNum">   69</span>              : &#047;&#047; </span>
<span class="lineNum">   70</span>              : &#047;&#047; Compare two strings. </span>
<span class="lineNum">   71</span>              : &#047;&#047; Remember -- we can&#039;t use the standard library! </span>
<span class="lineNum">   72</span>              : &#047;&#047; </span>
<span class="lineNum">   73</span>              : bool stringsEqual(const char *s1, const char *s2); </span>
<span class="lineNum">   74</span>              :  </span>
<span class="lineNum">   75</span>              : &#047;&#047; </span>
<span class="lineNum">   76</span>              : &#047;&#047; Represent a character value as a string </span>
<span class="lineNum">   77</span>              : &#047;&#047; Returns one past the end of the string </span>
<span class="lineNum">   78</span>              : &#047;&#047; This will be the actual char if printable or &#039;&#092;xXXXX&#039; otherwise </span>
<span class="lineNum">   79</span>              : &#047;&#047; </span>
<span class="lineNum">   80</span>              : char *charToString(unsigned long c, char *s); </span>
<span class="lineNum">   81</span>              :  </span>
<span class="lineNum">   82</span>              : &#047;&#047; </span>
<span class="lineNum">   83</span>              : &#047;&#047; Prevent problems with negative (signed char)s </span>
<span class="lineNum">   84</span>              : &#047;&#047; </span>
<span class="lineNum">   85</span>              : char *charToString(char c, char *s); </span>
<span class="lineNum">   86</span>              :  </span>
<span class="lineNum">   87</span>              : &#047;&#047; </span>
<span class="lineNum">   88</span>              : &#047;&#047; The default ValueTraits class dumps up to 8 bytes as hex values </span>
<span class="lineNum">   89</span>              : &#047;&#047; </span>
<span class="lineNum">   90</span>              : template &lt;class T&gt; </span>
<span class="lineNum">   91</span>              : class ValueTraits </span>
<span class="lineNum">   92</span>              : { </span>
<span class="lineNum">   93</span>              :     enum { MAX_BYTES = 8 }; </span>
<span class="lineNum">   94</span>              :     char _asString[sizeof(&quot;{ &quot;) + sizeof(&quot;XX &quot;) * MAX_BYTES + sizeof(&quot;... }&quot;)]; </span>
<span class="lineNum">   95</span>              :  </span>
<span class="lineNum">   96</span>              : public: </span>
<span class="lineNum">   97</span>              :     ValueTraits(const T &amp;t) { bytesToString((const unsigned char *)&amp;t, sizeof(T), MAX_BYTES, _asString); } </span>
<span class="lineNum">   98</span>              :     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">   99</span>              : }; </span>
<span class="lineNum">  100</span>              :  </span>
<span class="lineNum">  101</span>              : &#047;&#047; </span>
<span class="lineNum">  102</span>              : &#047;&#047; traits( T t ) </span>
<span class="lineNum">  103</span>              : &#047;&#047; Creates an object of type ValueTraits&lt;T&gt; </span>
<span class="lineNum">  104</span>              : &#047;&#047; </span>
<span class="lineNum">  105</span>              : template &lt;class T&gt; </span>
<span class="lineNum">  106</span><span class="lineNoCov">      0  /   5: inline ValueTraits&lt;T&gt; traits(T t) </span>
<span class="lineNum">  107</span>              : { </span>
<span class="lineNum">  108</span><span class="lineNoCov">      0  /   5:     return ValueTraits&lt;T&gt;(t); </span>
<span class="lineNum">  109</span><span class="lineNoCov">      0  /  10: } </span>
<span class="lineNum">  110</span>              :  </span>
<span class="lineNum">  111</span>              : &#047;&#047; </span>
<span class="lineNum">  112</span>              : &#047;&#047; You can duplicate the implementation of an existing ValueTraits </span>
<span class="lineNum">  113</span>              : &#047;&#047; </span>
<span class="lineNum">  114</span>              : #   define CXXTEST_COPY_TRAITS(CXXTEST_NEW_CLASS, CXXTEST_OLD_CLASS) &#092; </span>
<span class="lineNum">  115</span>              :     CXXTEST_TEMPLATE_INSTANTIATION &#092; </span>
<span class="lineNum">  116</span>              :     class ValueTraits&lt; CXXTEST_NEW_CLASS &gt; &#092; </span>
<span class="lineNum">  117</span>              :     { &#092; </span>
<span class="lineNum">  118</span>              :         ValueTraits&lt; CXXTEST_OLD_CLASS &gt; _old; &#092; </span>
<span class="lineNum">  119</span>              :     public: &#092; </span>
<span class="lineNum">  120</span>              :         ValueTraits( CXXTEST_NEW_CLASS n ) : _old( (CXXTEST_OLD_CLASS)n ) {} &#092; </span>
<span class="lineNum">  121</span>              :         const char *asString( void ) const { return _old.asString(); } &#092; </span>
<span class="lineNum">  122</span>              :     } </span>
<span class="lineNum">  123</span>              :  </span>
<span class="lineNum">  124</span>              : &#047;&#047; </span>
<span class="lineNum">  125</span>              : &#047;&#047; Certain compilers need separate declarations for T and const T </span>
<span class="lineNum">  126</span>              : &#047;&#047; </span>
<span class="lineNum">  127</span>              : #   ifdef _CXXTEST_NO_COPY_CONST </span>
<span class="lineNum">  128</span>              : #       define CXXTEST_COPY_CONST_TRAITS(CXXTEST_CLASS) </span>
<span class="lineNum">  129</span>              : #   else &#047;&#047; !_CXXTEST_NO_COPY_CONST </span>
<span class="lineNum">  130</span>              : #       define CXXTEST_COPY_CONST_TRAITS(CXXTEST_CLASS) CXXTEST_COPY_TRAITS(CXXTEST_CLASS, const CXXTEST_CLASS) </span>
<span class="lineNum">  131</span>              : #   endif &#047;&#047; _CXXTEST_NO_COPY_CONST </span>
<span class="lineNum">  132</span>              :  </span>
<span class="lineNum">  133</span>              : &#047;&#047; </span>
<span class="lineNum">  134</span>              : &#047;&#047; Avoid compiler warnings about unsigned types always &gt;= 0 </span>
<span class="lineNum">  135</span>              : &#047;&#047; </span>
<span class="lineNum">  136</span><span class="lineNoCov">      0  /   6: template&lt;class N&gt; inline bool negative(N n) { return n &lt; 0; } </span>
<span class="lineNum">  137</span><span class="lineNoCov">      0  /   4: template&lt;class N&gt; inline N abs(N n) { return negative(n) ? -n : n; } </span>
<span class="lineNum">  138</span>              :  </span>
<span class="lineNum">  139</span>              : #   define CXXTEST_NON_NEGATIVE(Type) &#092; </span>
<span class="lineNum">  140</span>              :     CXXTEST_TEMPLATE_INSTANTIATION &#092; </span>
<span class="lineNum">  141</span>              :     inline bool negative&lt;Type&gt;( Type ) { return false; } &#092; </span>
<span class="lineNum">  142</span>              :     CXXTEST_TEMPLATE_INSTANTIATION &#092; </span>
<span class="lineNum">  143</span>              :     inline Type abs&lt;Type&gt;( Type value ) { return value; } </span>
<span class="lineNum">  144</span>              :  </span>
<span class="lineNum">  145</span>              : CXXTEST_NON_NEGATIVE(bool) </span>
<span class="lineNum">  146</span>              : CXXTEST_NON_NEGATIVE(unsigned char) </span>
<span class="lineNum">  147</span>              : CXXTEST_NON_NEGATIVE(unsigned short int) </span>
<span class="lineNum">  148</span><span class="linePartCov">      2  /   5: CXXTEST_NON_NEGATIVE(unsigned int) </span>
<span class="lineNum">  149</span><span class="lineNoCov">      0  /   5: CXXTEST_NON_NEGATIVE(unsigned long int) </span>
<span class="lineNum">  150</span>              : #   ifdef _CXXTEST_LONGLONG </span>
<span class="lineNum">  151</span>              : CXXTEST_NON_NEGATIVE(unsigned _CXXTEST_LONGLONG) </span>
<span class="lineNum">  152</span>              : #   endif &#047;&#047; _CXXTEST_LONGLONG </span>
<span class="lineNum">  153</span>              :  </span>
<span class="lineNum">  154</span>              : &#047;&#047; </span>
<span class="lineNum">  155</span>              : &#047;&#047; Represent (integral) number as a string </span>
<span class="lineNum">  156</span>              : &#047;&#047; Returns one past the end of the string </span>
<span class="lineNum">  157</span>              : &#047;&#047; Remember -- we can&#039;t use the standard library! </span>
<span class="lineNum">  158</span>              : &#047;&#047; </span>
<span class="lineNum">  159</span>              : template&lt;class N&gt; </span>
<span class="lineNum">  160</span><span class="linePartCov">      1  /   4: char *numberToString(N n, char *s, </span>
<span class="lineNum">  161</span>              :                      N base = 10, </span>
<span class="lineNum">  162</span>              :                      unsigned skipDigits = 0, </span>
<span class="lineNum">  163</span>              :                      unsigned maxDigits = (unsigned) - 1) </span>
<span class="lineNum">  164</span>              : { </span>
<span class="lineNum">  165</span><span class="linePartCov">      1  /   4:     if (negative(n)) </span>
<span class="lineNum">  166</span>              :     { </span>
<span class="lineNum">  167</span><span class="lineNoCov">      0  /   4:         *s++ = &#039;-&#039;; </span>
<span class="lineNum">  168</span><span class="lineNoCov">      0  /   4:         n = abs(n); </span>
<span class="lineNum">  169</span>              :     } </span>
<span class="lineNum">  170</span>              :  </span>
<span class="lineNum">  171</span><span class="linePartCov">      1  /   4:     N digit = 1; </span>
<span class="lineNum">  172</span><span class="linePartCov">      2  /   8:     while (digit &lt;= (n &#047; base)) </span>
<span class="lineNum">  173</span>              :     { </span>
<span class="lineNum">  174</span><span class="linePartCov">      1  /   4:         digit *= base; </span>
<span class="lineNum">  175</span>              :     } </span>
<span class="lineNum">  176</span>              :     N digitValue; </span>
<span class="lineNum">  177</span><span class="linePartCov">      1  /   9:     for (; digit &gt;= 1 &amp;&amp; skipDigits; n -= digit * digitValue, digit &#047;= base, -- skipDigits) </span>
<span class="lineNum">  178</span>              :     { </span>
<span class="lineNum">  179</span><span class="lineNoCov">      0  /   4:         digitValue = (unsigned)(n &#047; digit); </span>
<span class="lineNum">  180</span>              :     } </span>
<span class="lineNum">  181</span><span class="linePartCov">      2  /   9:     for (; digit &gt;= 1 &amp;&amp; maxDigits; n -= digit * digitValue, digit &#047;= base, -- maxDigits) </span>
<span class="lineNum">  182</span>              :     { </span>
<span class="lineNum">  183</span><span class="linePartCov">      1  /   4:         *s++ = digitToChar((unsigned)(digitValue = (unsigned)(n &#047; digit))); </span>
<span class="lineNum">  184</span>              :     } </span>
<span class="lineNum">  185</span>              :  </span>
<span class="lineNum">  186</span><span class="linePartCov">      1  /   4:     *s = &#039;&#092;0&#039;; </span>
<span class="lineNum">  187</span><span class="linePartCov">      1  /   4:     return s; </span>
<span class="lineNum">  188</span><span class="linePartCov">      1  /   8: } </span>
<span class="lineNum">  189</span>              :  </span>
<span class="lineNum">  190</span>              : &#047;&#047; </span>
<span class="lineNum">  191</span>              : &#047;&#047; All the specific ValueTraits follow. </span>
<span class="lineNum">  192</span>              : &#047;&#047; You can #define CXXTEST_USER_VALUE_TRAITS if you don&#039;t want them </span>
<span class="lineNum">  193</span>              : &#047;&#047; </span>
<span class="lineNum">  194</span>              :  </span>
<span class="lineNum">  195</span>              : #ifndef CXXTEST_USER_VALUE_TRAITS </span>
<span class="lineNum">  196</span>              : &#047;&#047; </span>
<span class="lineNum">  197</span>              : &#047;&#047; ValueTraits: const char * const &amp; </span>
<span class="lineNum">  198</span>              : &#047;&#047; This is used for printing strings, as in TS_FAIL( &quot;Message&quot; ) </span>
<span class="lineNum">  199</span>              : &#047;&#047; </span>
<span class="lineNum">  200</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  201</span>              : class ValueTraits&lt;const char * const &amp;&gt; </span>
<span class="lineNum">  202</span>              : { </span>
<span class="lineNum">  203</span>              :     ValueTraits &amp;operator=(const ValueTraits &amp;); </span>
<span class="lineNum">  204</span>              :     const char *_asString; </span>
<span class="lineNum">  205</span>              :  </span>
<span class="lineNum">  206</span>              : public: </span>
<span class="lineNum">  207</span><span class="lineNoCov">      0  /   3:     ValueTraits(const char * const &amp;value) : _asString(value) {} </span>
<span class="lineNum">  208</span>              :     ValueTraits(const ValueTraits &amp;other) : _asString(other._asString) {} </span>
<span class="lineNum">  209</span><span class="lineNoCov">      0  /   3:     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">  210</span>              : #if 0 </span>
<span class="lineNum">  211</span>              :     const char *asString(void) const </span>
<span class="lineNum">  212</span>              :     { </span>
<span class="lineNum">  213</span>              :         std::string tmp(1, &#039;&quot;&#039;); </span>
<span class="lineNum">  214</span>              :         for (char const* src = _asString; src &amp;&amp; *src; ++src) </span>
<span class="lineNum">  215</span>              :         { </span>
<span class="lineNum">  216</span>              :             switch (*src) </span>
<span class="lineNum">  217</span>              :             { </span>
<span class="lineNum">  218</span>              :             case &#039;&#092;&#092;&#039;: tmp += &quot;&#092;&#092;&#092;&#092;&quot;; break; </span>
<span class="lineNum">  219</span>              :             case &#039;&#092;n&#039;: tmp += &quot;&#092;&#092;n&quot;;  break; </span>
<span class="lineNum">  220</span>              :             case &#039;&#092;r&#039;: tmp += &quot;&#092;&#092;r&quot;;  break; </span>
<span class="lineNum">  221</span>              :             case &#039;&#092;t&#039;: tmp += &quot;&#092;&#092;t&quot;;  break; </span>
<span class="lineNum">  222</span>              :             case &#039;&quot;&#039;:  tmp += &quot;&#092;&#092;&#092;&quot;&quot;; break; </span>
<span class="lineNum">  223</span>              :             default:   tmp += *src;   break; </span>
<span class="lineNum">  224</span>              :             } </span>
<span class="lineNum">  225</span>              :         } </span>
<span class="lineNum">  226</span>              :         tmp += &#039;&quot;&#039;; </span>
<span class="lineNum">  227</span>              :  </span>
<span class="lineNum">  228</span>              :         char* res = new char[tmp.size() + 1]; </span>
<span class="lineNum">  229</span>              :         return strcpy(res, tmp.c_str()); </span>
<span class="lineNum">  230</span>              :     } </span>
<span class="lineNum">  231</span>              : #endif </span>
<span class="lineNum">  232</span>              : }; </span>
<span class="lineNum">  233</span>              :  </span>
<span class="lineNum">  234</span><span class="lineNoCov">      0  /   5: CXXTEST_COPY_TRAITS(const char *, const char * const &amp;); </span>
<span class="lineNum">  235</span>              : CXXTEST_COPY_TRAITS(char *, const char * const &amp;); </span>
<span class="lineNum">  236</span>              :  </span>
<span class="lineNum">  237</span>              : &#047;&#047; </span>
<span class="lineNum">  238</span>              : &#047;&#047; ValueTraits: bool </span>
<span class="lineNum">  239</span>              : &#047;&#047; </span>
<span class="lineNum">  240</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  241</span>              : class ValueTraits&lt;const bool&gt; </span>
<span class="lineNum">  242</span>              : { </span>
<span class="lineNum">  243</span>              :     bool _value; </span>
<span class="lineNum">  244</span>              :  </span>
<span class="lineNum">  245</span>              : public: </span>
<span class="lineNum">  246</span><span class="lineNoCov">      0  /   3:     ValueTraits(const bool value) : _value(value) {} </span>
<span class="lineNum">  247</span><span class="lineNoCov">      0  /   2:     const char *asString(void) const { return _value ? &quot;true&quot; : &quot;false&quot;; } </span>
<span class="lineNum">  248</span>              : }; </span>
<span class="lineNum">  249</span>              :  </span>
<span class="lineNum">  250</span><span class="lineNoCov">      0  /   6: CXXTEST_COPY_CONST_TRAITS(bool); </span>
<span class="lineNum">  251</span>              :  </span>
<span class="lineNum">  252</span>              : #   ifdef _CXXTEST_LONGLONG </span>
<span class="lineNum">  253</span>              : &#047;&#047; </span>
<span class="lineNum">  254</span>              : &#047;&#047; ValueTraits: signed long long </span>
<span class="lineNum">  255</span>              : &#047;&#047; </span>
<span class="lineNum">  256</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  257</span>              : class ValueTraits&lt;const signed _CXXTEST_LONGLONG&gt; </span>
<span class="lineNum">  258</span>              : { </span>
<span class="lineNum">  259</span>              :     typedef _CXXTEST_LONGLONG T; </span>
<span class="lineNum">  260</span>              :     char _asString[2 + 3 * sizeof(T)]; </span>
<span class="lineNum">  261</span>              : public: </span>
<span class="lineNum">  262</span>              :     ValueTraits(T t) { numberToString&lt;T&gt;(t, _asString); } </span>
<span class="lineNum">  263</span>              :     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">  264</span>              : }; </span>
<span class="lineNum">  265</span>              :  </span>
<span class="lineNum">  266</span>              : CXXTEST_COPY_CONST_TRAITS(signed _CXXTEST_LONGLONG); </span>
<span class="lineNum">  267</span>              :  </span>
<span class="lineNum">  268</span>              : &#047;&#047; </span>
<span class="lineNum">  269</span>              : &#047;&#047; ValueTraits: unsigned long long </span>
<span class="lineNum">  270</span>              : &#047;&#047; </span>
<span class="lineNum">  271</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  272</span>              : class ValueTraits&lt;const unsigned _CXXTEST_LONGLONG&gt; </span>
<span class="lineNum">  273</span>              : { </span>
<span class="lineNum">  274</span>              :     typedef unsigned _CXXTEST_LONGLONG T; </span>
<span class="lineNum">  275</span>              :     char _asString[1 + 3 * sizeof(T)]; </span>
<span class="lineNum">  276</span>              : public: </span>
<span class="lineNum">  277</span>              :     ValueTraits(T t) { numberToString&lt;T&gt;(t, _asString); } </span>
<span class="lineNum">  278</span>              :     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">  279</span>              : }; </span>
<span class="lineNum">  280</span>              :  </span>
<span class="lineNum">  281</span>              : CXXTEST_COPY_CONST_TRAITS(unsigned _CXXTEST_LONGLONG); </span>
<span class="lineNum">  282</span>              : #   endif &#047;&#047; _CXXTEST_LONGLONG </span>
<span class="lineNum">  283</span>              :  </span>
<span class="lineNum">  284</span>              : &#047;&#047; </span>
<span class="lineNum">  285</span>              : &#047;&#047; ValueTraits: signed long </span>
<span class="lineNum">  286</span>              : &#047;&#047; </span>
<span class="lineNum">  287</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  288</span>              : class ValueTraits&lt;const signed long int&gt; </span>
<span class="lineNum">  289</span>              : { </span>
<span class="lineNum">  290</span>              :     typedef signed long int T; </span>
<span class="lineNum">  291</span>              :     char _asString[2 + 3 * sizeof(T)]; </span>
<span class="lineNum">  292</span>              : public: </span>
<span class="lineNum">  293</span><span class="lineNoCov">      0  /   3:     ValueTraits(T t) { numberToString&lt;T&gt;(t, _asString); } </span>
<span class="lineNum">  294</span><span class="lineNoCov">      0  /   3:     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">  295</span>              : }; </span>
<span class="lineNum">  296</span>              :  </span>
<span class="lineNum">  297</span>              : CXXTEST_COPY_CONST_TRAITS(signed long int); </span>
<span class="lineNum">  298</span>              :  </span>
<span class="lineNum">  299</span>              : &#047;&#047; </span>
<span class="lineNum">  300</span>              : &#047;&#047; ValueTraits: unsigned long </span>
<span class="lineNum">  301</span>              : &#047;&#047; </span>
<span class="lineNum">  302</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  303</span>              : class ValueTraits&lt;const unsigned long int&gt; </span>
<span class="lineNum">  304</span>              : { </span>
<span class="lineNum">  305</span>              :     typedef unsigned long int T; </span>
<span class="lineNum">  306</span>              :     char _asString[1 + 3 * sizeof(T)]; </span>
<span class="lineNum">  307</span>              : public: </span>
<span class="lineNum">  308</span><span class="lineNoCov">      0  /   3:     ValueTraits(T t) { numberToString&lt;T&gt;(t, _asString); } </span>
<span class="lineNum">  309</span><span class="lineNoCov">      0  /   3:     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">  310</span>              : }; </span>
<span class="lineNum">  311</span>              :  </span>
<span class="lineNum">  312</span>              : CXXTEST_COPY_CONST_TRAITS(unsigned long int); </span>
<span class="lineNum">  313</span>              :  </span>
<span class="lineNum">  314</span>              : &#047;&#047; </span>
<span class="lineNum">  315</span>              : &#047;&#047; All decimals are the same as the long version </span>
<span class="lineNum">  316</span>              : &#047;&#047; </span>
<span class="lineNum">  317</span>              :  </span>
<span class="lineNum">  318</span><span class="lineNoCov">      0  /   5: CXXTEST_COPY_TRAITS(const signed int, const signed long int); </span>
<span class="lineNum">  319</span><span class="lineNoCov">      0  /   5: CXXTEST_COPY_TRAITS(const unsigned int, const unsigned long int); </span>
<span class="lineNum">  320</span>              : CXXTEST_COPY_TRAITS(const signed short int, const signed long int); </span>
<span class="lineNum">  321</span>              : CXXTEST_COPY_TRAITS(const unsigned short int, const unsigned long int); </span>
<span class="lineNum">  322</span>              : CXXTEST_COPY_TRAITS(const unsigned char, const unsigned long int); </span>
<span class="lineNum">  323</span>              :  </span>
<span class="lineNum">  324</span><span class="lineNoCov">      0  /   5: CXXTEST_COPY_CONST_TRAITS(signed int); </span>
<span class="lineNum">  325</span><span class="lineNoCov">      0  /   5: CXXTEST_COPY_CONST_TRAITS(unsigned int); </span>
<span class="lineNum">  326</span>              : CXXTEST_COPY_CONST_TRAITS(signed short int); </span>
<span class="lineNum">  327</span>              : CXXTEST_COPY_CONST_TRAITS(unsigned short int); </span>
<span class="lineNum">  328</span>              : CXXTEST_COPY_CONST_TRAITS(unsigned char); </span>
<span class="lineNum">  329</span>              :  </span>
<span class="lineNum">  330</span>              : &#047;&#047; </span>
<span class="lineNum">  331</span>              : &#047;&#047; ValueTraits: char </span>
<span class="lineNum">  332</span>              : &#047;&#047; Returns &#039;x&#039; for printable chars, &#039;&#092;x??&#039; for others </span>
<span class="lineNum">  333</span>              : &#047;&#047; </span>
<span class="lineNum">  334</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  335</span>              : class ValueTraits&lt;const char&gt; </span>
<span class="lineNum">  336</span>              : { </span>
<span class="lineNum">  337</span>              :     char _asString[sizeof(&quot;&#039;&#092;&#092;xXX&#039;&quot;)]; </span>
<span class="lineNum">  338</span>              : public: </span>
<span class="lineNum">  339</span>              :     ValueTraits(char c) { copyString(charToString(c, copyString(_asString, &quot;&#039;&quot;)), &quot;&#039;&quot;); } </span>
<span class="lineNum">  340</span>              :     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">  341</span>              : }; </span>
<span class="lineNum">  342</span>              :  </span>
<span class="lineNum">  343</span>              : CXXTEST_COPY_CONST_TRAITS(char); </span>
<span class="lineNum">  344</span>              :  </span>
<span class="lineNum">  345</span>              : &#047;&#047; </span>
<span class="lineNum">  346</span>              : &#047;&#047; ValueTraits: signed char </span>
<span class="lineNum">  347</span>              : &#047;&#047; Same as char, some compilers need it </span>
<span class="lineNum">  348</span>              : &#047;&#047; </span>
<span class="lineNum">  349</span>              : CXXTEST_COPY_TRAITS(const signed char, const char); </span>
<span class="lineNum">  350</span>              : CXXTEST_COPY_CONST_TRAITS(signed char); </span>
<span class="lineNum">  351</span>              :  </span>
<span class="lineNum">  352</span>              : &#047;&#047; </span>
<span class="lineNum">  353</span>              : &#047;&#047; ValueTraits: double </span>
<span class="lineNum">  354</span>              : &#047;&#047; </span>
<span class="lineNum">  355</span>              : CXXTEST_TEMPLATE_INSTANTIATION </span>
<span class="lineNum">  356</span>              : class ValueTraits&lt;const double&gt; </span>
<span class="lineNum">  357</span>              : { </span>
<span class="lineNum">  358</span>              : public: </span>
<span class="lineNum">  359</span>              :     ValueTraits(double t) </span>
<span class="lineNum">  360</span>              :     { </span>
<span class="lineNum">  361</span>              :         if ((t != t) || (t &gt;= HUGE_VAL) || (t == -HUGE_VAL)) </span>
<span class="lineNum">  362</span>              :         { </span>
<span class="lineNum">  363</span>              :             nonFiniteNumber(t); </span>
<span class="lineNum">  364</span>              :         } </span>
<span class="lineNum">  365</span>              :         else if (requiredDigitsOnLeft(t) &gt; MAX_DIGITS_ON_LEFT) </span>
<span class="lineNum">  366</span>              :         { </span>
<span class="lineNum">  367</span>              :             hugeNumber(t); </span>
<span class="lineNum">  368</span>              :         } </span>
<span class="lineNum">  369</span>              :         else </span>
<span class="lineNum">  370</span>              :         { </span>
<span class="lineNum">  371</span>              :             normalNumber(t); </span>
<span class="lineNum">  372</span>              :         } </span>
<span class="lineNum">  373</span>              :     } </span>
<span class="lineNum">  374</span>              :  </span>
<span class="lineNum">  375</span>              :     const char *asString(void) const { return _asString; } </span>
<span class="lineNum">  376</span>              :  </span>
<span class="lineNum">  377</span>              : private: </span>
<span class="lineNum">  378</span>              :     enum { MAX_DIGITS_ON_LEFT = 24, DIGITS_ON_RIGHT = 4, BASE = 10 }; </span>
<span class="lineNum">  379</span>              :     char _asString[1 + MAX_DIGITS_ON_LEFT + 1 + DIGITS_ON_RIGHT + 1]; </span>
<span class="lineNum">  380</span>              :  </span>
<span class="lineNum">  381</span>              :     static unsigned requiredDigitsOnLeft(double t); </span>
<span class="lineNum">  382</span>              :     char *doNegative(double &amp;t); </span>
<span class="lineNum">  383</span>              :     void hugeNumber(double t); </span>
<span class="lineNum">  384</span>              :     void normalNumber(double t); </span>
<span class="lineNum">  385</span>              :     void nonFiniteNumber(double t); </span>
<span class="lineNum">  386</span>              :     char *doubleToString(double t, char *s, unsigned skip = 0, unsigned max = (unsigned) - 1); </span>
<span class="lineNum">  387</span>              : }; </span>
<span class="lineNum">  388</span>              :  </span>
<span class="lineNum">  389</span>              : CXXTEST_COPY_CONST_TRAITS(double); </span>
<span class="lineNum">  390</span>              :  </span>
<span class="lineNum">  391</span>              : &#047;&#047; </span>
<span class="lineNum">  392</span>              : &#047;&#047; ValueTraits: float </span>
<span class="lineNum">  393</span>              : &#047;&#047; </span>
<span class="lineNum">  394</span>              : CXXTEST_COPY_TRAITS(const float, const double); </span>
<span class="lineNum">  395</span>              : CXXTEST_COPY_CONST_TRAITS(float); </span>
<span class="lineNum">  396</span>              : #endif &#047;&#047; !CXXTEST_USER_VALUE_TRAITS </span>
<span class="lineNum">  397</span>              : } </span>
<span class="lineNum">  398</span>              :  </span>
<span class="lineNum">  399</span>              : #ifdef _CXXTEST_HAVE_STD </span>
<span class="lineNum">  400</span>              : #   include &lt;cxxtest&#047;StdValueTraits.h&gt; </span>
<span class="lineNum">  401</span>              : #endif &#047;&#047; _CXXTEST_HAVE_STD </span>
<span class="lineNum">  402</span>              :  </span>
<span class="lineNum">  403</span>              : namespace dummy_enum_ns {} </span>
<span class="lineNum">  404</span>              :  </span>
<span class="lineNum">  405</span>              : &#047;&#047; </span>
<span class="lineNum">  406</span>              : &#047;&#047; CXXTEST_ENUM_TRAITS </span>
<span class="lineNum">  407</span>              : &#047;&#047; </span>
<span class="lineNum">  408</span>              : #define CXXTEST_ENUM_TRAITS( TYPE, VALUES ) &#092; </span>
<span class="lineNum">  409</span>              :     namespace CxxTest &#092; </span>
<span class="lineNum">  410</span>              :     { &#092; </span>
<span class="lineNum">  411</span>              :         CXXTEST_TEMPLATE_INSTANTIATION &#092; </span>
<span class="lineNum">  412</span>              :         class ValueTraits&lt;TYPE&gt; &#092; </span>
<span class="lineNum">  413</span>              :         { &#092; </span>
<span class="lineNum">  414</span>              :             TYPE _value; &#092; </span>
<span class="lineNum">  415</span>              :             char _fallback[sizeof(&quot;(&quot; #TYPE &quot;)&quot;) + 3 * sizeof(TYPE)]; &#092; </span>
<span class="lineNum">  416</span>              :         public: &#092; </span>
<span class="lineNum">  417</span>              :             ValueTraits( TYPE value ) { &#092; </span>
<span class="lineNum">  418</span>              :                 _value = value; &#092; </span>
<span class="lineNum">  419</span>              :                 numberToString&lt;unsigned long int&gt;( _value, copyString( _fallback, &quot;(&quot; #TYPE &quot;)&quot; ) ); &#092; </span>
<span class="lineNum">  420</span>              :             } &#092; </span>
<span class="lineNum">  421</span>              :             const char *asString( void ) const &#092; </span>
<span class="lineNum">  422</span>              :             { &#092; </span>
<span class="lineNum">  423</span>              :                 switch ( _value ) &#092; </span>
<span class="lineNum">  424</span>              :                 { &#092; </span>
<span class="lineNum">  425</span>              :                     VALUES &#092; </span>
<span class="lineNum">  426</span>              :                     default: return _fallback; &#092; </span>
<span class="lineNum">  427</span>              :                 } &#092; </span>
<span class="lineNum">  428</span>              :             } &#092; </span>
<span class="lineNum">  429</span>              :         }; &#092; </span>
<span class="lineNum">  430</span>              :     } using namespace dummy_enum_ns </span>
<span class="lineNum">  431</span>              :  </span>
<span class="lineNum">  432</span>              : #define CXXTEST_ENUM_MEMBER( MEMBER ) &#092; </span>
<span class="lineNum">  433</span>              :     case MEMBER: return #MEMBER; </span>
<span class="lineNum">  434</span>              :  </span>
<span class="lineNum">  435</span>              : #endif &#047;&#047; __cxxtest__ValueTraits_h__ </span>
</pre>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr><td class="ruler"><img src="glass.png" width="3" height="3" alt=""/></td></tr>
  <tr><td class="versionInfo">Generated by: <a href="http://simonkagstrom.github.com/kcov/index.html">Kcov</a> (based on <a href="http://bcov.sourceforge.net">bcov</a>)</td></tr>
</table>
<br/>
</body>
</html>
